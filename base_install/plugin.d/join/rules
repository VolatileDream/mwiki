include_rules

# these rules are used to join all of the different bits of a page into
# a single page. The actual joining is done by ./run, which needs to get
# editted for each new page-part generating plugin. It is important that
# any plugin adds it's parts of generated pages to the partial/<%B> group,
# this ensures consistent dependency ordering.

!join = | plugin.d/<join> |> plugin.d/join/run %B > %o |>

: foreach entries/*.mw |> !join |> partial/%B.mw

